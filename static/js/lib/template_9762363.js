"use strict";var template=function e(t,n){return e["object"==typeof n?"render":"compile"].apply(e,arguments)};template.version="1.0.0";var iConfig={openTag:"<%",closeTag:"%>"},isNewEngine=!!String.prototype.trim,iCache=template.cache={},iHelper={include:function(e,t){return iRender(e,t)},print:function(e){return e}},iExtend=Object.create||function(e){function t(){}return t.prototype=e,new t},iCompile=template.compile=function(e,t,n){var r=null;if(e&&(r=iCache[e]),r)return r;if("string"!=typeof t){var o=document.getElementById(e);n=t,o?(n=t,t=o.value||o.innerHTML):(t=e,e=null)}n=n||{};var i=iParse(t,n);return e&&(iCache[e]=i),i},iRender=template.render=function(e,t,n){return iCompile(e,n)(t)},iForEach=Array.prototype.forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0;n<e.length;n++)t(e[n],n,e)},iParse=function(e,t){var n=[],r=[],o=t.openTag||iConfig.openTag,i=t.closeTag||iConfig.closeTag,l=isNewEngine?["var out='',line=1;","out+=",";","out+=html[","];","this.result=out;"]:["var out=[],line=1;","out.push(",");","out.push(html[","]);","this.result=out.join('');"],a=l[0];iForEach(e.split(o),function(e){if(e){var t=e.split(i),o=t[0],p=t[1],u=t.length;if(1===u)a+=l[3]+n.length+l[4],n.push(o);else if(o&&(o=o.replace(/^\s+|\s+$/g,"").replace(/[\n\r]+\s*/,""),0===o.indexOf("=")?(o=o.substring(1).replace(/^[\s]+|[\s;]+$/g,""),a+=l[1]+o+l[2]):a+=o,a+="line+=1;",r.push(o)),p){if(_foot=p.replace(/^[\n\r]+\s*/g,""),!_foot)return;a+=l[3]+n.length+l[4],n.push(p)}}}),a="var Render=function(data){template.mix(this, data);try{"+a+l[5]+"}catch(e){template.log('rend error : ', line, 'line');template.log('invalid statement : ', js[line-1]);throw e;}};var proto=Render.prototype=iExtend(iHelper);template.mix(proto, options);return function(data){return new Render(data).result;};";var p=new Function("html","js","iExtend","iHelper","options",a);return p(n,r,iExtend,iHelper,t)};template.log=function(){if("undefined"!=typeof console){var e=Array.prototype.slice.call(arguments);console.log.apply&&console.log.apply(console,e)}},template.mix=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},template.on=function(e,t){iHelper[e]=t},template.clearCache=function(){iCache={}},template.set=function(e,t){iConfig[e]=t},"undefined"!=typeof module&&module.exports?module.exports=template:window.template=template;