"use strict";var Menu={genPopupMenuLi:function(e){return'<li class="menu-item" event-id="'+e.id+'"><div class="menu-item-icon"></div><div class="menu-item-title">'+e.label+"</div></li>"},genPopupMenuLiDisable:function(e){return'<li class="menu-item-disabled" event-id="'+e.id+'"><div class="menu-item-icon"></div><div class="menu-item-title">'+e.label+"</div></li>"},genPopupMenuSeparator:function(){return'<li class="menu-item-separator"></li>'},genPopupMenu:function(e){for(var n='<ul class="mx-menu-content">',u=0,t=e.length;t>u;u++)0!=e[u].visible&&(n+=e[u].type?Menu.genPopupMenuSeparator():1==e[u].disabled?Menu.genPopupMenuLiDisable(e[u]):Menu.genPopupMenuLi(e[u]));return n+="</ul>"},hideAndRemovePopupMenu:function(){var e=document.getElementById("pop_menu");null!=e&&(document.body.removeChild(e),e=null,document.onclick=null)},calculateMinHeight:function(e){for(var n=6,u=0,t=e.length;t>u;u++)0!=e[u].visible&&(n+=e[u].type?1:30);return n},createPopupMenu:function(){var e=document.createElement("div");return e.setAttribute("id","pop_menu"),e.setAttribute("class","pop-menu"),document.body.appendChild(e),e},showPopupMenu:function(e,n,u,t){var i=Menu.genPopupMenu(u);Menu.hideAndRemovePopupMenu();var o=Menu.createPopupMenu();o.innerHTML=i;var c,l,d=document.body.scrollTop+document.documentElement.scrollTop,m=document.body.scrollLeft+document.documentElement.scrollLeft,p=document.documentElement.clientWidth,r=o.offsetWidth;l=n,c=e+r>=p?e-r:e,o.style.cssText="left:"+(c+m)+"px; top:"+(l+d)+"px;width:"+(r+10)+"px; z-index:999;";for(var s=$(o).find(".menu-item"),a=0,v=s.length;v>a;a++)s[a].onclick=function(){Menu.hideAndRemovePopupMenu();var e=this.attributes["event-id"].value;setTimeout(function(){t(e)},200)},s[a].oncontextmenu=function(){Menu.hideAndRemovePopupMenu();var e=this.attributes["event-id"].value;setTimeout(function(){t(e)},200)};for(var s=$(o).find(".menu-item-disabled"),a=0,v=s.length;v>a;a++)s[a].onclick=function(){Menu.hideAndRemovePopupMenu()},s[a].oncontextmenu=function(){Menu.hideAndRemovePopupMenu()};return document.onclick=function(){Menu.hideAndRemovePopupMenu()},o.onclick=function(){return!1},o.oncontextmenu=function(){return!1},"none"}};